# Profile API Paths
/profiles:
  get:
    tags:
      - Profiles
    summary: List all profiles
    description: Retrieve a paginated list of all profiles with optional filtering
    operationId: listProfiles
    parameters:
      - name: page
        in: query
        description: Page number for pagination
        required: false
        schema:
          type: integer
          default: 1
          minimum: 1
      - name: limit
        in: query
        description: Number of items per page
        required: false
        schema:
          type: integer
          default: 20
          minimum: 1
          maximum: 100
      - name: type
        in: query
        description: Filter by profile type
        required: false
        schema:
          type: string
          enum: [citizen, organization, law-firm]
      - name: status
        in: query
        description: Filter by profile status
        required: false
        schema:
          type: string
          enum: [active, inactive, pending, suspended]
    responses:
      '200':
        description: Successfully retrieved profiles list
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProfileSummary'
                pagination:
                  $ref: '#/components/schemas/Pagination'
      '400':
        description: Bad request - Invalid parameters
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized - Authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  post:
    tags:
      - Profiles
    summary: Create a new profile
    description: Create a new profile for a user
    operationId: createProfile
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateProfileRequest'
    responses:
      '201':
        description: Profile created successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Profile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized - Authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '409':
        description: Conflict - Profile already exists
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/{id}:
  get:
    tags:
      - Profiles
    summary: Get profile by ID
    description: Retrieve a specific profile by its ID
    operationId: getProfileById
    parameters:
      - name: id
        in: path
        description: Profile ID
        required: true
        schema:
          type: string
          format: uuid
    responses:
      '200':
        description: Successfully retrieved profile
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Profile'
      '401':
        description: Unauthorized - Authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  patch:
    tags:
      - Profiles
    summary: Update profile
    description: Update an existing profile
    operationId: updateProfile
    parameters:
      - name: id
        in: path
        description: Profile ID
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateProfileRequest'
    responses:
      '200':
        description: Profile updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Profile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized - Authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  delete:
    tags:
      - Profiles
    summary: Delete profile
    description: Delete a profile by ID
    operationId: deleteProfile
    parameters:
      - name: id
        in: path
        description: Profile ID
        required: true
        schema:
          type: string
          format: uuid
    responses:
      '204':
        description: Profile deleted successfully
      '401':
        description: Unauthorized - Authentication required
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

# Citizen Profile Endpoints
/profiles/citizens:
  get:
    tags:
      - Citizen Profiles
    summary: List citizen profiles
    description: Retrieve a list of citizen profiles
    operationId: listCitizenProfiles
    parameters:
      - name: page
        in: query
        schema:
          type: integer
          default: 1
      - name: limit
        in: query
        schema:
          type: integer
          default: 20
      - name: search
        in: query
        description: Search by name or ID number
        schema:
          type: string
    responses:
      '200':
        description: Successfully retrieved citizen profiles
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/CitizenProfile'
                pagination:
                  $ref: '#/components/schemas/Pagination'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/citizen:
  post:
    tags:
      - Citizen Profiles
    summary: Create citizen profile
    description: Create a new citizen profile
    operationId: createCitizenProfile
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateCitizenProfileRequest'
    responses:
      '201':
        description: Citizen profile created successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CitizenProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '409':
        description: Conflict - Profile already exists
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/{id}/citizen:
  get:
    tags:
      - Citizen Profiles
    summary: Get citizen profile details
    description: Retrieve detailed citizen profile information
    operationId: getCitizenProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      '200':
        description: Successfully retrieved citizen profile
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CitizenProfile'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Citizen profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  patch:
    tags:
      - Citizen Profiles
    summary: Update citizen profile
    description: Update existing citizen profile information
    operationId: updateCitizenProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateCitizenProfileRequest'
    responses:
      '200':
        description: Citizen profile updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CitizenProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Citizen profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

# Organization Profile Endpoints
/profiles/organizations:
  get:
    tags:
      - Organization Profiles
    summary: List organization profiles
    description: Retrieve a list of organization profiles
    operationId: listOrganizationProfiles
    parameters:
      - name: page
        in: query
        schema:
          type: integer
          default: 1
      - name: limit
        in: query
        schema:
          type: integer
          default: 20
      - name: search
        in: query
        description: Search by organization name or registration number
        schema:
          type: string
      - name: industry
        in: query
        description: Filter by industry type
        schema:
          type: string
    responses:
      '200':
        description: Successfully retrieved organization profiles
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/OrganizationProfile'
                pagination:
                  $ref: '#/components/schemas/Pagination'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/organization:
  post:
    tags:
      - Organization Profiles
    summary: Create organization profile
    description: Create a new organization profile
    operationId: createOrganizationProfile
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateOrganizationProfileRequest'
    responses:
      '201':
        description: Organization profile created successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrganizationProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '409':
        description: Conflict - Profile already exists
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/{id}/organization:
  get:
    tags:
      - Organization Profiles
    summary: Get organization profile details
    description: Retrieve detailed organization profile information
    operationId: getOrganizationProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      '200':
        description: Successfully retrieved organization profile
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrganizationProfile'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Organization profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  patch:
    tags:
      - Organization Profiles
    summary: Update organization profile
    description: Update existing organization profile information
    operationId: updateOrganizationProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateOrganizationProfileRequest'
    responses:
      '200':
        description: Organization profile updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrganizationProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Organization profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

# Law Firm Profile Endpoints
/profiles/law-firms:
  get:
    tags:
      - Law Firm Profiles
    summary: List law firm profiles
    description: Retrieve a list of law firm profiles
    operationId: listLawFirmProfiles
    parameters:
      - name: page
        in: query
        schema:
          type: integer
          default: 1
      - name: limit
        in: query
        schema:
          type: integer
          default: 20
      - name: search
        in: query
        description: Search by firm name or bar registration number
        schema:
          type: string
      - name: specialization
        in: query
        description: Filter by legal specialization
        schema:
          type: string
    responses:
      '200':
        description: Successfully retrieved law firm profiles
        content:
          application/json:
            schema:
              type: object
              properties:
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/LawFirmProfile'
                pagination:
                  $ref: '#/components/schemas/Pagination'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/law-firm:
  post:
    tags:
      - Law Firm Profiles
    summary: Create law firm profile
    description: Create a new law firm profile
    operationId: createLawFirmProfile
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateLawFirmProfileRequest'
    responses:
      '201':
        description: Law firm profile created successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LawFirmProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '409':
        description: Conflict - Profile already exists
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/{id}/law-firm:
  get:
    tags:
      - Law Firm Profiles
    summary: Get law firm profile details
    description: Retrieve detailed law firm profile information
    operationId: getLawFirmProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      '200':
        description: Successfully retrieved law firm profile
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LawFirmProfile'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Law firm profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

  patch:
    tags:
      - Law Firm Profiles
    summary: Update law firm profile
    description: Update existing law firm profile information
    operationId: updateLawFirmProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateLawFirmProfileRequest'
    responses:
      '200':
        description: Law firm profile updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LawFirmProfile'
      '400':
        description: Bad request - Invalid input data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Law firm profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

# Additional Profile Operations
/profiles/{id}/verify:
  post:
    tags:
      - Profiles
    summary: Verify profile
    description: Verify a profile's authenticity and credentials
    operationId: verifyProfile
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/VerifyProfileRequest'
    responses:
      '200':
        description: Profile verified successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerificationResponse'
      '400':
        description: Bad request - Invalid verification data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

/profiles/{id}/status:
  patch:
    tags:
      - Profiles
    summary: Update profile status
    description: Change the status of a profile (active, inactive, suspended, etc.)
    operationId: updateProfileStatus
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - status
            properties:
              status:
                type: string
                enum: [active, inactive, pending, suspended, verified]
              reason:
                type: string
                description: Reason for status change
    responses:
      '200':
        description: Profile status updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Profile'
      '400':
        description: Bad request - Invalid status
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '403':
        description: Forbidden - Insufficient permissions
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '404':
        description: Profile not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '500':
        description: Internal server error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
    security:
      - bearerAuth: []

